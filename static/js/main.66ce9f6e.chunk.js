(this["webpackJsonppokemon-frontend-challenge"]=this["webpackJsonppokemon-frontend-challenge"]||[]).push([[0],{22:function(e,t,n){},25:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(13),c=n.n(r),i=n(3),o=n(4),l=n(9),u=n(6),j=n(5),h=(n(22),n(1)),p=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={term:""},s.onUpdateSearch=s.onUpdateSearch.bind(Object(l.a)(s)),s}return Object(o.a)(n,[{key:"onUpdateSearch",value:function(e){var t=e.target.value;this.setState({term:t}),this.props.onUpdateSearch(t)}},{key:"render",value:function(){return Object(h.jsx)("input",{className:"form-control search-input",type:"text",placeholder:"Search by pokemon",onChange:this.onUpdateSearch})}}]),n}(s.Component),d=n(10),b=n(8),m=n.n(b),f=n(11),x=function(){function e(){Object(i.a)(this,e),this._apiBase="https://pokeapi.co/api/v2"}return Object(o.a)(e,[{key:"getResource",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPokemon",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("/pokemon/".concat(t));case 2:return n=e.sent,e.abrupt("return",this._transformPokemon(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllPokemons",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,s,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],e.next=4,fetch("https://pokeapi.co/api/v2/pokemon?limit=1118").then((function(e){return e.json()})).then((function(e){n=e}));case 4:s=0;case 5:if(!(s<n.results.length)){e.next=13;break}return e.next=8,this.fetchPokemonData(n.results[s]);case 8:(a=e.sent).id&&t.push(a);case 10:s++,e.next=5;break;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPokemonData",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,e.next=3,fetch(n).then((function(e){return e.ok?e.json():null}));case 3:return s=e.sent,e.abrupt("return",this._transformPokemon(s));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTypes",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,s,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.getResource("/type");case 3:for(n=e.sent,s=0;s<n.results.length;s++)a=this._transformType(n.results[s]),t.push(a);return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_transformPokemon",value:function(e){return null===e?{}:{id:e.id,imageSrc:e.sprites.other["official-artwork"].front_default,name:e.name,types:e.types,species:e.species.name,height:e.height,weight:e.weight,abilities:e.abilities,stats:e.stats}}},{key:"_transformType",value:function(e){return{name:e.name}}}]),e}(),O=(n(25),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={buttons:[],loading:!0},e.pokService=new x,e.onTypesLoaded=function(t){e.setState({buttons:t,loading:!1})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.pokService.getTypes().then(this.onTypesLoaded)}},{key:"render",value:function(){var e=[];if(0===this.state.buttons.length)e.push(Object(h.jsx)(d.a.Item,{href:"#",children:"Default"},"default"));else{var t=this.props.onFilterSelect;e.push(Object(h.jsx)(d.a.Item,{onClick:function(){return t("all")},href:"#",children:"all"},"all")),e=e.concat(this.state.buttons.map((function(e){return Object(h.jsx)(d.a.Item,{onClick:function(){return t(e.name)},href:"#",children:e.name},e.name)})))}return Object(h.jsxs)(d.a,{children:[Object(h.jsx)(d.a.Toggle,{variant:"success",id:"dropdown-basic",children:"Types"}),Object(h.jsx)(d.a.Menu,{children:e})]})}}]),n}(s.Component)),v=n(16),k=n(17),g=(n(29),function(){return Object(h.jsx)("div",{className:"loadingio-spinner-spin-9xizxls4vrd",children:Object(h.jsxs)("div",{className:"ldio-gies4g58bn",children:[Object(h.jsx)("div",{children:Object(h.jsx)("div",{})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{})})]})})}),y=function(){return Object(h.jsx)("span",{children:"Something goes wrong"})},N=(n(30),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.imageSrc,n=e.name;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:t,width:"120px",alt:"pokemon"}),Object(h.jsx)("h5",{children:n})]})}}]),n}(s.Component)),S=(n(31),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).pokService=new x,s.state={pokemons:[],loading:!0,error:!1,minIndex:0,maxIndex:9},s.onPokemonLoaded=function(e){s.setState({pokemons:e,loading:!1})},s.onError=function(e){s.setState({error:!0,loading:!1})},s.onClickNext=s.onClickNext.bind(Object(l.a)(s)),s.onClickPrev=s.onClickPrev.bind(Object(l.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.pokService.getAllPokemons().then(this.onPokemonLoaded).catch(this.onError)}},{key:"onClickNext",value:function(){var e=this.state,t=e.pokemons,n=e.maxIndex,s=e.minIndex;n>=t.length||this.setState({maxIndex:n+10,minIndex:s+10})}},{key:"onClickPrev",value:function(){var e=this.state,t=e.maxIndex,n=e.minIndex;0!==n&&this.setState({maxIndex:t-10,minIndex:n-10})}},{key:"render",value:function(){var e=this.state,t=e.pokemons,n=e.loading,s=e.error,a=e.minIndex,r=e.maxIndex,c=this.props,i=c.onClickPokemon,o=c.filter,l=c.term,u=s?Object(h.jsx)(y,{}):null,j=n?Object(h.jsx)(g,{}):null,p=[];0!==t.length&&(p=t.filter((function(e){var t=!1,n=!1;return e.name.indexOf(l.toLowerCase())>-1&&(n=!0),e.types.forEach((function(e){e.type.name!==o&&"all"!==o||(t=!0)})),t&&n})).slice(a,r+1).map((function(e){var t=e.id,n=Object(k.a)(e,["id"]);return Object(h.jsx)("li",{onClick:function(){return i(t)},className:"list-group-item d-flex pokemon",children:Object(h.jsx)(N,Object(v.a)({},n))},t)})));var d=n||s?null:p;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("ul",{className:"list-group pokemonList",children:[u,j,d]}),Object(h.jsxs)("div",{className:"navigation d-flex justify-content-center",children:[Object(h.jsx)("button",{type:"button",onClick:this.onClickPrev,className:"btn btn-light navigation-prev",children:"Previous"}),Object(h.jsx)("button",{type:"button",onClick:this.onClickNext,className:"btn btn-light navigation-next",children:"Next"})]})]})}}]),n}(s.Component)),w=(n(32),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.pokemon,t=e.id,n=e.types,s=e.species,a=e.height,r=e.weight,c=e.abilities,i=s[0].toUpperCase()+s.slice(1),o=c.map((function(e){return e.is_hidden?Object(h.jsxs)("li",{className:"list-group-item",children:[e.ability.name," (hidden)"]},e.slot):Object(h.jsxs)("li",{className:"list-group-item",children:[e.slot,". ",e.ability.name]},e.slot)})),l=n.map((function(e,t){return Object(h.jsx)("button",{type:"button",className:"btn btn-warning btn-sm",disabled:!0,children:e.type.name.toUpperCase()},t)}));return Object(h.jsxs)("div",{className:"pokemonBaseInfo",children:[Object(h.jsx)("h3",{className:"pokemonBaseInfoTitle",children:"Pokedex data"}),Object(h.jsxs)("ul",{className:"list-group list-group-flush pokemonInfo",children:[Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(h.jsx)("span",{className:"term",children:"National \u2116"}),Object(h.jsx)("span",{className:"pokemonId",children:t})]}),Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(h.jsx)("span",{className:"term",children:"Type"}),Object(h.jsx)("span",{children:l})]}),Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(h.jsx)("span",{className:"term",children:"Species"}),Object(h.jsxs)("span",{children:[i," Pokemon"]})]}),Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(h.jsx)("span",{className:"term",children:"Height"}),Object(h.jsxs)("span",{children:[a/10," m"]})]}),Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(h.jsx)("span",{className:"term",children:"Weight"}),Object(h.jsxs)("span",{children:[r/10," kg"]})]}),Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(h.jsx)("span",{className:"term",children:"Abilities"}),Object(h.jsx)("ul",{className:"list-group list-group-flush list-abilities",children:o})]})]})]})}}]),n}(s.Component)),C=(n(33),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){for(var e=this.props.stats,t=e[0].base_stat,n=1;n<e.length;n++)t<e[n].base_stat&&(t=e[n].base_stat);var s=e.map((function(e,n){var s=e.stat,a=e.base_stat,r=s.name[0].toUpperCase()+s.name.slice(1),c="progress-bar";return c+=t===a?" bg-success":" bg-warning",Object(h.jsxs)("li",{className:"list-group-item d-flex justify-content-center",children:[Object(h.jsxs)("div",{className:"stat",children:[Object(h.jsxs)("span",{className:"statTerm",children:[r,":"]}),Object(h.jsx)("span",{className:"statNumber",children:a})]}),Object(h.jsx)("div",{className:"progress statProgress",children:Object(h.jsx)("div",{className:c,role:"progressbar",style:{width:"".concat(a,"%")},"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"})})]},n)}));return Object(h.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(h.jsx)("h3",{className:"baseStatsTitle",children:"Base stats"}),s]})}}]),n}(s.Component)),I=(n(34),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).pokService=new x,e.state={pokemon:{},loading:!0,error:!1,id:null},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.updateInfo()}},{key:"componentDidUpdate",value:function(e){this.props.pokemonId!==e.pokemonId&&this.updateInfo()}},{key:"updateInfo",value:function(){var e=this,t=this.props.pokemonId;t&&this.pokService.getPokemon(t).then((function(t){e.setState({pokemon:t,loading:!1})}))}},{key:"render",value:function(){if(!this.state.pokemon)return Object(h.jsx)("span",{className:"select-error",children:"Please select a pokemon"});var e=this.state,t=e.pokemon,n=e.loading,s=e.error,a=s?Object(h.jsx)(y,{}):null,r=n?Object(h.jsx)(g,{}):null,c=n||s?null:Object(h.jsx)(P,{pokemon:t});return Object(h.jsxs)("div",{className:"card",children:[a,r,c]})}}]),n}(s.Component)),P=function(e){var t=e.pokemon,n=t.imageSrc,s=t.name;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)("img",{src:n,alt:s}),Object(h.jsx)(w,{pokemon:t})]}),Object(h.jsx)(C,{stats:t.stats})]})},U=I,_=(n(35),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={currentPokemon:1,term:"",filter:"all"},s.onClickPokemon=function(e){s.setState({currentPokemon:e})},s.onUpdateSearch=s.onUpdateSearch.bind(Object(l.a)(s)),s.onFilterSelect=s.onFilterSelect.bind(Object(l.a)(s)),s}return Object(o.a)(n,[{key:"onUpdateSearch",value:function(e){this.setState({term:e})}},{key:"onFilterSelect",value:function(e){this.setState({filter:e})}},{key:"render",value:function(){var e=this.state.filter;return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsxs)("div",{className:"search-panel d-flex",children:[Object(h.jsx)(p,{onUpdateSearch:this.onUpdateSearch}),Object(h.jsx)(O,{filter:e,onFilterSelect:this.onFilterSelect})]}),Object(h.jsx)(S,{filter:e,onClickPokemon:this.onClickPokemon,term:this.state.term}),Object(h.jsx)(U,{pokemonId:this.state.currentPokemon})]})}}]),n}(s.Component));n(36);c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.66ce9f6e.chunk.js.map